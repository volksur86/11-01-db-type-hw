# Домашнее задание к занятию "Базы данных, их типы" - Волкивский Андрей

### Задание 1. СУБД

Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

### Решение 1

1.1. Для решения этой задачи подойдут реляционные СУБД: подойдут лучше всего PostgreSQL или Microsoft SQL Server, в случае если инфраструктура в основсном построена на ОС от Microsoft. Cистемы полностью отвечают нашим условиям: будут гарантировать целостность и чёткую структуру данных.

1.2. Для лендингов выбираем документную NoSQL БД такую как MongoDB например, достаточно популярный вариант, большое комьюнити и много информации в свободном доступе по этой БД. Подходит нашим условиям, обладает высокой скоростью записи и гибкостью. Для CRM выбираем реляционную БД например, PostgreSQL - подходит под наши критерии: гибкость и быстрота обработки запросов.

1.2.* Да, эту задачу можно закрыть и одной СУБД - PostgreSQL 

1.3. Для решения этой задачи выбирем документоориентированную СУБД MongoDB, в первую очередь из-за условия в задаче, что СУБД должна иметь простую и понятную структуру. MongoDB будет отличным выбором благодаря своей гибкости и простоте восприятия.

1.4. Для решения этой задачи будем использователь два основных типа СУБД: графовая и реляционная и они будут работать в комбинации друг с другом.

### Задание 2 Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

### Решение 2

 2.1. 
 
 1.  Вводим номер телефона и сумму пополнения, в зависимости от способа оплаты (мобильное приложение Банка, мобильное приложение Оператора связи, платежный терминал, салон связи).
     
 2.  Проходит проверка правильности введённого номера телефона (верный формат ввода номера, проверка оператора связи), далее запрашивается подтверждение платежа посредствам пароля, биометрии или sms кода).
   
 3.  Платёжная система проверяет наличие достаточных средств, заявленых для оплаты и происходит списание с выбранного пользователем источника оплаты (банковская карта, счет в банке...)
  
 4.  Платёжная система направляет запрос на пополнение баланса оператору мобильной связи, включая номер телефона и сумму пополнения.
   
 5.  Оператор связи получает запрос, проверяет его подлинность и корректность, после чего зачисляет указанную сумму на лицевой счёт пользователя, обновляя его баланс в своей БД.
   
 6.  В завершении, все стороны получают уведомление: пользователь видит сообщение об успешном пополнении, баланс в личном кабинете оператора связи обновляется, а платежная система фиксирует операцию в истории транзакций.

### Задание 3

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

### Решение 3

3.1.  

1. Строгая схема и целостность данных.

2. Мощный и язык запросов, универсальный и очень выразительный.

3. Безопасность и контроль доступа.

4. Система провереннная временем, большое комьюнити

5. Поддержка сложных связей между данными


### Задание 4

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

### Решение 4

Для решения этой задачи выберем одну из Колоночных СУБД (например ClickHouse), т.к. идет речь о "большом количестве вычислений" и "огромном количестве данных", что типично для OLAP-сценариев. 

Модель распределенных вычислений будет лучшей: Massively Parallel Processing (MPP), потому что она идеально соответствует задаче распараллеливания нагрузки на 1000 машин, обеспечивая линейное масштабирование, отказоустойчивость и высокую производительность для аналитических запросов. 


